<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>angular-bg3-cheats documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	    <link rel="stylesheet" href="../styles/style.css">
    </head>
    <body>

        <div class="navbar navbar-default navbar-fixed-top visible-xs">
            <a href="../" class="navbar-brand">angular-bg3-cheats documentation</a>
            <button type="button" class="btn btn-default btn-menu fa fa-bars" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
            <div id="book-search-input" role="search">
                <input type="text" placeholder="Type to search">
            </div>
            <nav>
            
                <ul class="list">
            
                    <li class="title">
                        <a href="../">angular-bg3-cheats documentation</a>
                    </li>
            
                    <li class="divider"></li>
            
            
                    <li class="chapter">
                        <a data-type="chapter-link" href="../"><span class="fa fa-home"></span>Getting started</a>
                        <ul class="links">
                                <li class="link">
                                    <a href="../" ><span class="fa fa-file-text-o"></span>README</a>
                                </li>
                                <li class="link">
                                    <a 
                                        
                                         href="../overview.html" 
                                         href="../overview.html" 
                                        >
                                        <span class="fa fa-th"></span>Overview
                                    </a>
                                </li>
                        </ul>
                    </li>
            
            
                    <li class="chapter">
                        <div class="simple">
                            <span class="fa fa-cogs"></span>
                            <span>Components</span>
                            <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                    data-target="#xs-components-links"
                                ></span>
                        </div>
                        <ul class="links collapse in"
                                id="xs-components-links"
                            >
                                <li class="link">
                                    <a href="../components/AppComponent.html" >AppComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/AttackRollsComponent.html" >AttackRollsComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/CharacterSheetComponent.html" >CharacterSheetComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/DiceBonusFormComponent.html" >DiceBonusFormComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/DieRollResultsTableComponent.html" >DieRollResultsTableComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/NavbarComponent.html" >NavbarComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/NotFoundComponent.html" >NotFoundComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/OverlayComponent.html" >OverlayComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/SkillCheckComponent.html" >SkillCheckComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/StepperComponent.html" >StepperComponent</a>
                                </li>
                        </ul>
                    </li>
            
            
                    <li class="chapter">
                        <div class="simple">
                            <span class="fa fa-file-code-o"></span>
                            <span>Classes</span>
                            <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                    data-target="#xs-classes-links"
                                ></span>
                        </div>
                        <ul class="links collapse in"
                                id="xs-classes-links"
                            >
                                <li class="link">
                                    <a href="../classes/DiceSet.html" >DiceSet</a>
                                </li>
                                <li class="link">
                                    <a href="../classes/Spell.html" >Spell</a>
                                </li>
                        </ul>
                    </li>
            
            
                    <li class="chapter">
                        <div class="simple">
                            <span class="fa fa-long-arrow-down"></span>
                            <span>Injectables</span>
                            <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                    data-target="#xs-injectables-links"
                                ></span>
                        </div>
                        <ul class="links collapse in"
                                id="xs-injectables-links"
                            >
                                <li class="link">
                                    <a href="../injectables/DiceCalculationsService.html"  class="active" >DiceCalculationsService</a>
                                </li>
                                <li class="link">
                                    <a href="../injectables/SpellsService.html" >SpellsService</a>
                                </li>
                        </ul>
                    </li>
            
                    <li class="chapter">
                        <div class="simple">
                            <span class="fa fa-info"></span>
                            <span>Interfaces</span>
                            <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                    data-target="#xs-interfaces-links"
                                ></span>
                        </div>
                        <ul class="links collapse in"
                                id="xs-interfaces-links"
                            >
                                <li class="link">
                                    <a href="../interfaces/CharacterStats.html" >CharacterStats</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/DiceResults.html" >DiceResults</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/DiceSetI.html" >DiceSetI</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/DropdownGroup.html" >DropdownGroup</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/DropdownItem.html" >DropdownItem</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/SpellI.html" >SpellI</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/SpellResponse.html" >SpellResponse</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/SpellResponseResults.html" >SpellResponseResults</a>
                                </li>
                        </ul>
                    </li>
            
            
                    <li class="chapter">
                        <a data-type="chapter-link" href="../miscellaneous.html" ><span class="fa fa-cubes"></span>Miscellaneous</a>
                    </li>
            
                    <li class="chapter">
                        <a data-type="chapter-link" href="../coverage.html" ><span class="fa fa-tasks"></span>Documentation coverage</a>
                    </li>
            
                    <li class="divider"></li>
                    <li class="copyright">
                            Documentation generated using <a href="https://compodoc.github.io/compodoc/" target="_blank">
                                        <img src="..//images/compodoc-vectorise.svg" class="img-responsive">
                            </a>
                    </li>
            
                </ul>
            
            </nav>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="hidden-xs menu">
                   <nav>
                   
                       <ul class="list">
                   
                           <li class="title">
                               <a href="../">angular-bg3-cheats documentation</a>
                           </li>
                   
                           <li class="divider"></li>
                   
                               <div id="book-search-input" role="search">
                                   <input type="text" placeholder="Type to search">
                               </div>
                   
                           <li class="chapter">
                               <a data-type="chapter-link" href="../"><span class="fa fa-home"></span>Getting started</a>
                               <ul class="links">
                                       <li class="link">
                                           <a href="../" ><span class="fa fa-file-text-o"></span>README</a>
                                       </li>
                                       <li class="link">
                                           <a 
                                               
                                                href="../overview.html" 
                                                href="../overview.html" 
                                               >
                                               <span class="fa fa-th"></span>Overview
                                           </a>
                                       </li>
                               </ul>
                           </li>
                   
                   
                           <li class="chapter">
                               <div class="simple">
                                   <span class="fa fa-cogs"></span>
                                   <span>Components</span>
                                   <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                           data-target="#components-links"
                   ></span>
                               </div>
                               <ul class="links collapse in"
                                       id="components-links"
                   >
                                       <li class="link">
                                           <a href="../components/AppComponent.html" >AppComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/AttackRollsComponent.html" >AttackRollsComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/CharacterSheetComponent.html" >CharacterSheetComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/DiceBonusFormComponent.html" >DiceBonusFormComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/DieRollResultsTableComponent.html" >DieRollResultsTableComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/NavbarComponent.html" >NavbarComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/NotFoundComponent.html" >NotFoundComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/OverlayComponent.html" >OverlayComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/SkillCheckComponent.html" >SkillCheckComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/StepperComponent.html" >StepperComponent</a>
                                       </li>
                               </ul>
                           </li>
                   
                   
                           <li class="chapter">
                               <div class="simple">
                                   <span class="fa fa-file-code-o"></span>
                                   <span>Classes</span>
                                   <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                           data-target="#classes-links"
                   ></span>
                               </div>
                               <ul class="links collapse in"
                                       id="classes-links"
                   >
                                       <li class="link">
                                           <a href="../classes/DiceSet.html" >DiceSet</a>
                                       </li>
                                       <li class="link">
                                           <a href="../classes/Spell.html" >Spell</a>
                                       </li>
                               </ul>
                           </li>
                   
                   
                           <li class="chapter">
                               <div class="simple">
                                   <span class="fa fa-long-arrow-down"></span>
                                   <span>Injectables</span>
                                   <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                           data-target="#injectables-links"
                   ></span>
                               </div>
                               <ul class="links collapse in"
                                       id="injectables-links"
                   >
                                       <li class="link">
                                           <a href="../injectables/DiceCalculationsService.html"  class="active" >DiceCalculationsService</a>
                                       </li>
                                       <li class="link">
                                           <a href="../injectables/SpellsService.html" >SpellsService</a>
                                       </li>
                               </ul>
                           </li>
                   
                           <li class="chapter">
                               <div class="simple">
                                   <span class="fa fa-info"></span>
                                   <span>Interfaces</span>
                                   <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                           data-target="#interfaces-links"
                   ></span>
                               </div>
                               <ul class="links collapse in"
                                       id="interfaces-links"
                   >
                                       <li class="link">
                                           <a href="../interfaces/CharacterStats.html" >CharacterStats</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/DiceResults.html" >DiceResults</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/DiceSetI.html" >DiceSetI</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/DropdownGroup.html" >DropdownGroup</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/DropdownItem.html" >DropdownItem</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/SpellI.html" >SpellI</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/SpellResponse.html" >SpellResponse</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/SpellResponseResults.html" >SpellResponseResults</a>
                                       </li>
                               </ul>
                           </li>
                   
                   
                           <li class="chapter">
                               <a data-type="chapter-link" href="../miscellaneous.html" ><span class="fa fa-cubes"></span>Miscellaneous</a>
                           </li>
                   
                           <li class="chapter">
                               <a data-type="chapter-link" href="../coverage.html" ><span class="fa fa-tasks"></span>Documentation coverage</a>
                           </li>
                   
                           <li class="divider"></li>
                           <li class="copyright">
                                   Documentation generated using <a href="https://compodoc.github.io/compodoc/" target="_blank">
                                               <img src="..//images/compodoc-vectorise.svg" class="img-responsive">
                                   </a>
                           </li>
                   
                       </ul>
                   
                   </nav>
               </div>
               <div class="content injectable">
                   <div class="content-data">




<ol class="breadcrumb">
  <li>Injectables</li>
  <li>DiceCalculationsService</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
    <li class="active">
        <a href="#infos" id="infos-tab" role="tab" data-toggle="tab">Infos</a>
    </li>
    <li>
        <a href="#source" role="tab" id="source-tab" data-toggle="tab">Source</a>
    </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="infos">
        <p class="comment">
            <h3>File</h3>
        </p>
        <p class="comment">
            <code>src/app/dice-calculations.service.ts</code>
        </p>

            <p class="comment">
                <h3>Description</h3>
            </p>
            <p class="comment">
                <p>This service is used to make calculations related to dice rolls.<br>Most functions require an input of a diceset type which contains information about the number of dice being rolled, the modifiers being applied to the dice roll, and the target of what the dice roll should hit</p>
<p>Main functions: skillCheckCalc, diceCalcMap, diceCalcResults</p>

            </p>


            <section>
                <h3 id="methods">Methods</h3>
                    <table class="table table-sm table-bordered">
                        <tbody>
                            <tr>
                                <td class="col-md-4">
                                    <b> maxRoll</b>
                                </td>
                            </tr>
            
                            <tr>
                                <td class="col-md-4">
            <code>maxRoll(diceset: <a href="../classes/DiceSet.html" >DiceSetI</a>)</code>
                                </td>
                            </tr>
            
                            <tr>
                                <td class="col-md-4">
                                        <div class="io-description"><p>Generate max possible roll from diceset</p>
            </div>
                                        <div class="io-description">
                                                <b>Parameters :</b>
                                                <ul class="jsdoc-params">
                                                        <li>
                                                            <div>
                                                                <b>diceset</b>
                                                            </div>
                                                            <div>
                                                                <p>input of dice being rolled</p>
            
                                                            </div>
                                                        </li>
                                                </ul>
                                        </div>
                                        <div class="io-description">
                                            <b>Returns: </b>    <code>number</code>
            
                                        </div>
                                            <div class="io-description">
                                                <p>The roll total generated if each die has its highest number</p>
            
                                            </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                            <tr>
                                <td class="col-md-4">
                                    <b> minRoll</b>
                                </td>
                            </tr>
            
                            <tr>
                                <td class="col-md-4">
            <code>minRoll(diceset: <a href="../classes/DiceSet.html" >DiceSetI</a>)</code>
                                </td>
                            </tr>
            
                            <tr>
                                <td class="col-md-4">
                                        <div class="io-description"><p>Generate min possible roll from diceset</p>
            </div>
                                        <div class="io-description">
                                                <b>Parameters :</b>
                                                <ul class="jsdoc-params">
                                                        <li>
                                                            <div>
                                                                <b>diceset</b>
                                                            </div>
                                                            <div>
                                                                <p>input of dice being rolled</p>
            
                                                            </div>
                                                        </li>
                                                </ul>
                                        </div>
                                        <div class="io-description">
                                            <b>Returns: </b>    <code>number</code>
            
                                        </div>
                                            <div class="io-description">
                                                <p>The roll total generated if each die has its lowest number</p>
            
                                            </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                            <tr>
                                <td class="col-md-4">
                                    <b> numPossibleDieRolls</b>
                                </td>
                            </tr>
            
                            <tr>
                                <td class="col-md-4">
            <code>numPossibleDieRolls(diceset: <a href="../classes/DiceSet.html" >DiceSetI</a>)</code>
                                </td>
                            </tr>
            
                            <tr>
                                <td class="col-md-4">
                                        <div class="io-description"><p>This returns the number of possible permutations of the dice rolls<br>there are. This can be used as the denomenator for calc-ing the<br>percentage of successful dice rolls</p>
            </div>
                                        <div class="io-description">
                                                <b>Parameters :</b>
                                                <ul class="jsdoc-params">
                                                        <li>
                                                            <div>
                                                                <b>diceset</b>
                                                            </div>
                                                            <div>
                                                                <p>diceset that you&#39;re calcing with</p>
            
                                                            </div>
                                                        </li>
                                                </ul>
                                        </div>
                                        <div class="io-description">
                                            <b>Returns: </b>    <code>number</code>
            
                                        </div>
                                            <div class="io-description">
                                                <p>The denomenator in calcing the probability</p>
            
                                            </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                            <tr>
                                <td class="col-md-4">
                                    <b> skillCheckCalcAdvantage</b>
                                </td>
                            </tr>
            
                            <tr>
                                <td class="col-md-4">
            <code>skillCheckCalcAdvantage(targetChance: number)</code>
                                </td>
                            </tr>
            
                            <tr>
                                <td class="col-md-4">
                                        <div class="io-description"><p>Converts raw skillCheckCalc value to chance of target being reached when d20 is rolled with advantage</p>
            </div>
                                        <div class="io-description">
                                                <b>Parameters :</b>
                                                <ul class="jsdoc-params">
                                                        <li>
                                                            <div>
                                                                <b>targetChance</b>
                                                            </div>
                                                            <div>
                                                                <p>Can accept either percentage or fraction calc of chance</p>
            
                                                            </div>
                                                        </li>
                                                </ul>
                                        </div>
                                        <div class="io-description">
                                            <b>Returns: </b>    <code>number</code>
            
                                        </div>
                                            <div class="io-description">
                                                <p>fraction chance to hit target in skill check with advantage</p>
            
                                            </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                            <tr>
                                <td class="col-md-4">
                                    <b> skillCheckCalcDisadvantage</b>
                                </td>
                            </tr>
            
                            <tr>
                                <td class="col-md-4">
            <code>skillCheckCalcDisadvantage(targetChance: number)</code>
                                </td>
                            </tr>
            
                            <tr>
                                <td class="col-md-4">
                                        <div class="io-description"><p>Converts raw skillCheckCalc value to chance of target being reached when d20 is rolled with disadvantage</p>
            </div>
                                        <div class="io-description">
                                                <b>Parameters :</b>
                                                <ul class="jsdoc-params">
                                                        <li>
                                                            <div>
                                                                <b>targetChance</b>
                                                            </div>
                                                            <div>
                                                                <p>Can accept either percentage or fraction calc of chance</p>
            
                                                            </div>
                                                        </li>
                                                </ul>
                                        </div>
                                        <div class="io-description">
                                            <b>Returns: </b>    <code>number</code>
            
                                        </div>
                                            <div class="io-description">
                                                <p>fraction chance to hit target in skill check with disadvantage</p>
            
                                            </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                            <tr>
                                <td class="col-md-4">
                                    <b> skillCheckCalcAdvantageDisadvantage</b>
                                </td>
                            </tr>
            
                            <tr>
                                <td class="col-md-4">
            <code>skillCheckCalcAdvantageDisadvantage(advantage: Advantage, targetChance: number)</code>
                                </td>
                            </tr>
            
                            <tr>
                                <td class="col-md-4">
                                        <div class="io-description">
                                                <b>Parameters :</b>
                                                <ul class="jsdoc-params">
                                                        <li>
                                                            <div>
                                                                <b>advantage</b>
                                                            </div>
                                                            <div>
                                                                <p>accepts Advantage enum to determine whether to modify the target chance to adjust for advantage or disadvantage</p>
            
                                                            </div>
                                                        </li>
                                                        <li>
                                                            <div>
                                                                <b>targetChance</b>
                                                            </div>
                                                            <div>
                                                                <p>Resulting calculation from skillCheckCalc to determine chance of diceset reaching target</p>
            
                                                            </div>
                                                        </li>
                                                </ul>
                                        </div>
                                        <div class="io-description">
                                            <b>Returns: </b>    <code>number</code>
            
                                        </div>
                                            <div class="io-description">
                                                <p>targetChance but modified to account for either advantage or disadvantage</p>
            
                                            </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                            <tr>
                                <td class="col-md-4">
                                    <b> checkAdvantageValue</b>
                                </td>
                            </tr>
            
                            <tr>
                                <td class="col-md-4">
            <code>checkAdvantageValue(advantage: Advantage)</code>
                                </td>
                            </tr>
            
                            <tr>
                                <td class="col-md-4">
                                        <div class="io-description"><p>This function just has a console.log to check for advantage.<br>It&#39;s a testing function to make sure that advantage is being set properly</p>
            </div>
                                        <div class="io-description">
                                                <b>Parameters :</b>
                                                <ul class="jsdoc-params">
                                                        <li>
                                                            <div>
                                                                <b>advantage</b>
                                                            </div>
                                                            <div>
                                                                <p>diceset.advantage value</p>
            
                                                            </div>
                                                        </li>
                                                </ul>
                                        </div>
                                        <div class="io-description">
                                            <b>Returns: </b>    <code>void</code>
            
                                        </div>
                                            <div class="io-description">
                                                
                                            </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                            <tr>
                                <td class="col-md-4">
                                    <b> skillCheckCalc</b>
                                </td>
                            </tr>
            
                            <tr>
                                <td class="col-md-4">
            <code>skillCheckCalc(diceset: <a href="../classes/DiceSet.html" >DiceSetI</a>)</code>
                                </td>
                            </tr>
            
                            <tr>
                                <td class="col-md-4">
                                        <div class="io-description"><p>This function calculates the percent chance of a skill check succeeding</p>
            <p>Explanation of Algorithm: O(n^3)</p>
            <p>The algorithm will iterate through the dice roll possibilities one die at a time, and add each of the possible die options on the current die to the list of sums.</p>
            <ol>
            <li>possibleDiceValues() is used to convert dice set into 2d array</li>
            <li>two arrays are created, sums1 and sums2.</li>
            <li>sums1 is initiated to [0]. This array is used to store the sums generated from the dice already itereated through. This array will stay constant while the new die values are iterated through</li>
            <li>sums2 is initiated to []. This array has the new sums from the dice value currently being iterated through pushed to it.</li>
            <li>Assume [[1, 2], [1, 2, 3], [1, 2, 3]]<br>The algorithm first itereates through the die values of the first die, and adds them to the values of the empty sums1 array. Sums are pushed to sums2.<br>sums1 = [0];<br>sums2 = [1, 2];</li>
            <li>Sums2 is then copied to sums1.</li>
            <li>Then, the next group of die results starts being iterated through, and gets added to values in sums1 array</li>
            </ol>
            <p>first loop of sums1:</p>
            <p>sums1 = [1, 2];</p>
            <p>sums2 = [1 + 1, 2 + 1];</p>
            <p>second loop of sums1:</p>
            <p>sums1 = [1, 2];</p>
            <p>sums2 = [1 + 1, 2 + 1, 1 + 2, 2 + 2];</p>
            <p>third loop of sums1:</p>
            <p>sums2 = [1 + 1, 2 + 1, 1 + 2, 2 + 2, 1 + 3, 2 + 3];</p>
            <p>After loop of dieFaces:</p>
            <p>sums1 = [1, 2];</p>
            <p>sums2 = [1 + 1, 2 + 1, 1 + 2, 2 + 2, 1 + 3, 2 + 3];</p>
            <p>Second loop of dieFaces:</p>
            <p>sums1 = [2, 3, 3, 4, 4, 5]; // Copy of sums2, except I simplified the sums</p>
            <p>sums2 = [1 + 1, 2 + 1, 1 + 2, 2 + 2, 1 + 3, 2 + 3];</p>
            <p>first iteration of sums1:</p>
            <p>sums2 = [2 + 1, 3 + 1, 3 + 1, 4 + 1, 4 + 1, 5 + 1];</p>
            <p>second iteration of sums1:</p>
            <p>sums2 = [2 + 1, 3 + 1, 3 + 1, 4 + 1, 4 + 1, 5 + 1,<br>          2 + 2, 3 + 2, 3 + 2, 4 + 2, 4 + 2, 5 + 2];</p>
            <p>third iteration of sums1:</p>
            <p>sums2 = [2 + 1, 3 + 1, 3 + 1, 4 + 1, 4 + 1, 5 + 1,<br>          2 + 2, 3 + 2, 3 + 2, 4 + 2, 4 + 2, 5 + 2,<br>          2 + 3, 3 + 3, 3 + 3, 4 + 3, 4 + 3, 5 + 3];</p>
            <p>Final value of sums1 after loop: [3, 4, 4, 5, 5, 6, 4, 5, 5, 6, 6, 7, 5, 6, 6, 7, 7, 8]</p>
            <ol start="6">
            <li>The algorithm filters the array for the sum values over the target</li>
            <li>Divide number of die rolls over the target over total number of die roll possibilities, and convert it to a percentage</li>
            </ol>
            </div>
                                        <div class="io-description">
                                                <b>Parameters :</b>
                                                <ul class="jsdoc-params">
                                                        <li>
                                                            <div>
                                                                <b>diceset</b>
                                                            </div>
                                                            <div>
                                                                <p>diceset object that represents the dice being rolled,<br>and represents the target DC for the skillcheck</p>
            
                                                            </div>
                                                        </li>
                                                </ul>
                                        </div>
                                        <div class="io-description">
                                            <b>Returns: </b>    <code>number</code>
            
                                        </div>
                                            <div class="io-description">
                                                <p>percentage chance of success rounded to two decimal points</p>
            
                                            </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                            <tr>
                                <td class="col-md-4">
                                    <b> skillCheckCalcModifiers</b>
                                </td>
                            </tr>
            
                            <tr>
                                <td class="col-md-4">
            <code>skillCheckCalcModifiers(diceset: <a href="../classes/DiceSet.html" >DiceSetI</a>, probability: number)</code>
                                </td>
                            </tr>
            
                            <tr>
                                <td class="col-md-4">
                                        <div class="io-description"><p>This function modifies the fraction probability calculated from skill check calc to the number used by the user interface<br>Performs modifications like transforming the fraction into a percentage.<br>This is called before the number is returned in skillcheckcalc</p>
            </div>
                                        <div class="io-description">
                                                <b>Parameters :</b>
                                                <ul class="jsdoc-params">
                                                        <li>
                                                            <div>
                                                                <b>diceset</b>
                                                            </div>
                                                            <div>
                                                                <p>input diceset from user</p>
            
                                                            </div>
                                                        </li>
                                                        <li>
                                                            <div>
                                                                <b>probability</b>
                                                            </div>
                                                            <div>
                                                                <p>the raw number from skillcheckcalc</p>
            
                                                            </div>
                                                        </li>
                                                </ul>
                                        </div>
                                        <div class="io-description">
                                            <b>Returns: </b>    <code>number</code>
            
                                        </div>
                                            <div class="io-description">
                                                <p>Modified number that is used by the code</p>
            
                                            </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                            <tr>
                                <td class="col-md-4">
                                    <b> adjustProbabilityForAttempts</b>
                                </td>
                            </tr>
            
                            <tr>
                                <td class="col-md-4">
            <code>adjustProbabilityForAttempts(likelihoodTarget: number, attempts: number)</code>
                                </td>
                            </tr>
            
                            <tr>
                                <td class="col-md-4">
                                        <div class="io-description"><p>This algorithm multiplies the probability of success by the amount of attempts.</p>
            <p>This algorithm is used in the end of skillCheckCalc to account for multiple attempts</p>
            </div>
                                        <div class="io-description">
                                                <b>Parameters :</b>
                                                <ul class="jsdoc-params">
                                                        <li>
                                                            <div>
                                                                <b>likelihoodTarget</b>
                                                            </div>
                                                            <div>
                                                                <p>The probability value of something</p>
            
                                                            </div>
                                                        </li>
                                                        <li>
                                                            <div>
                                                                <b>attempts</b>
                                                            </div>
                                                            <div>
                                                                <p>Number of times that the probability chance is performed</p>
            
                                                            </div>
                                                        </li>
                                                </ul>
                                        </div>
                                        <div class="io-description">
                                            <b>Returns: </b>    <code>number</code>
            
                                        </div>
                                            <div class="io-description">
                                                <p>The chance of the probability succeeding at least once in the multiple attempts</p>
            
                                            </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                            <tr>
                                <td class="col-md-4">
                                    <b> diceCalcMap</b>
                                </td>
                            </tr>
            
                            <tr>
                                <td class="col-md-4">
            <code>diceCalcMap(diceset: <a href="../classes/DiceSet.html" >DiceSetI</a>)</code>
                                </td>
                            </tr>
            
                            <tr>
                                <td class="col-md-4">
                                        <div class="io-description"><p>This algorithm is a variation of skillCheckCalc that generates a full map of results.<br>This variation does not look at the target of the roll</p>
            </div>
                                        <div class="io-description">
                                                <b>Parameters :</b>
                                                <ul class="jsdoc-params">
                                                        <li>
                                                            <div>
                                                                <b>diceset</b>
                                                            </div>
                                                            <div>
                                                                <p>input dice set</p>
            
                                                            </div>
                                                        </li>
                                                </ul>
                                        </div>
                                        <div class="io-description">
                                            <b>Returns: </b>    <code>any</code>
            
                                        </div>
                                            <div class="io-description">
                                                <p>Map[roll result : number of rolls with roll result]</p>
            
                                            </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                            <tr>
                                <td class="col-md-4">
                                    <b> diceCalcMapAdvantage</b>
                                </td>
                            </tr>
            
                            <tr>
                                <td class="col-md-4">
            <code>diceCalcMapAdvantage(diceset: <a href="../classes/DiceSet.html" >DiceSetI</a>)</code>
                                </td>
                            </tr>
            
                            <tr>
                                <td class="col-md-4">
                                        <div class="io-description"><p>This algorithm is a variation of skillCheckCalc that generates a full map of results.<br>This variation does not look at the target of the roll<br>To account for Advantage/Disadvantage, it adds an additional d20, and adds additional rolls taking the min/max with the additional d20</p>
            </div>
                                        <div class="io-description">
                                                <b>Parameters :</b>
                                                <ul class="jsdoc-params">
                                                        <li>
                                                            <div>
                                                                <b>diceset</b>
                                                            </div>
                                                            <div>
                                                                <p>input dice set</p>
            
                                                            </div>
                                                        </li>
                                                </ul>
                                        </div>
                                        <div class="io-description">
                                            <b>Returns: </b>    <code>any</code>
            
                                        </div>
                                            <div class="io-description">
                                                <p>Map[roll result : number of rolls with roll result]</p>
            
                                            </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                            <tr>
                                <td class="col-md-4">
                                    <b> diceCalcMapSetupPossibleValues</b>
                                </td>
                            </tr>
            
                            <tr>
                                <td class="col-md-4">
            <code>diceCalcMapSetupPossibleValues(possibleValues: number[][], advantage: Advantage)</code>
                                </td>
                            </tr>
            
                            <tr>
                                <td class="col-md-4">
                                        <div class="io-description"><p>Takes the value from possibleValues, and modifies the number generated to account for advantage and savage attacker</p>
            </div>
                                        <div class="io-description">
                                                <b>Parameters :</b>
                                                <ul class="jsdoc-params">
                                                        <li>
                                                            <div>
                                                                <b>possibleValues</b>
                                                            </div>
                                                            <div>
                                                                <p>number[][] type of possible die values created from possibleDiceValues() function</p>
            
                                                            </div>
                                                        </li>
                                                        <li>
                                                            <div>
                                                                <b>advantage</b>
                                                            </div>
                                                            <div>
                                                                <p>enum set by the diceset that determines if the dice are rolled with advantage or disadvantage</p>
            
                                                            </div>
                                                        </li>
                                                </ul>
                                        </div>
                                        <div class="io-description">
                                            <b>Returns: </b>    <code>number[][]</code>
            
                                        </div>
                                            <div class="io-description">
                                                <p>possibleValues with additional dice added to account for advantage roll or savage attacker roll</p>
            
                                            </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                            <tr>
                                <td class="col-md-4">
                                    <b> diceCalcMapSetupChooseDice</b>
                                </td>
                            </tr>
            
                            <tr>
                                <td class="col-md-4">
            <code>diceCalcMapSetupChooseDice(diceValue1: number, diceValue2: number, advantage: Advantage)</code>
                                </td>
                            </tr>
            
                            <tr>
                                <td class="col-md-4">
                                        <div class="io-description"><p>Called in the iterator for generating skillCheckCalc and diceCalc</p>
            </div>
                                        <div class="io-description">
                                                <b>Parameters :</b>
                                                <ul class="jsdoc-params">
                                                        <li>
                                                            <div>
                                                                <b>diceValue1</b>
                                                            </div>
                                                            <div>
                                                                <p>dice value in sums1</p>
            
                                                            </div>
                                                        </li>
                                                        <li>
                                                            <div>
                                                                <b>diceValue2</b>
                                                            </div>
                                                            <div>
                                                                <p>dice value in sums2</p>
            
                                                            </div>
                                                        </li>
                                                        <li>
                                                            <div>
                                                                <b>advantage</b>
                                                            </div>
                                                            <div>
                                                                <p>determines what case dice are rolled with</p>
            
                                                            </div>
                                                        </li>
                                                </ul>
                                        </div>
                                        <div class="io-description">
                                            <b>Returns: </b>    <code>number</code>
            
                                        </div>
                                            <div class="io-description">
                                                
                                            </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                            <tr>
                                <td class="col-md-4">
                                    <b> diceCalcResults</b>
                                </td>
                            </tr>
            
                            <tr>
                                <td class="col-md-4">
            <code>diceCalcResults(diceset: <a href="../classes/DiceSet.html" >DiceSetI</a>)</code>
                                </td>
                            </tr>
            
                            <tr>
                                <td class="col-md-4">
                                        <div class="io-description"><p>Calls diceCalcMap to create map from diceset, and uses the map created to convert into DiceResults array<br>DiceResults array is the data type used to make the roll results table</p>
            </div>
                                        <div class="io-description">
                                                <b>Parameters :</b>
                                                <ul class="jsdoc-params">
                                                        <li>
                                                            <div>
                                                                <b>diceset</b>
                                                            </div>
                                                            <div>
                                                                <p>input dice set, and modifier to dice rolls</p>
            
                                                            </div>
                                                        </li>
                                                </ul>
                                        </div>
                                        <div class="io-description">
                                            <b>Returns: </b>    <code>DiceResults[]</code>
            
                                        </div>
                                            <div class="io-description">
                                                <p>DiceResults array that holds the number of rolls, and the percentage of those rols to the whole</p>
            
                                            </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                            <tr>
                                <td class="col-md-4">
                                    <b> defaultD20RollResults</b>
                                </td>
                            </tr>
            
                            <tr>
                                <td class="col-md-4">
            <code>defaultD20RollResults()</code>
                                </td>
                            </tr>
            
                            <tr>
                                <td class="col-md-4">
                                        <div class="io-description"><p>This function is used in the skill-check component to generate the default d20 table when no modifiers nor separate dice rolls have been applied</p>
            </div>
                                        <div class="io-description">
                                        </div>
                                        <div class="io-description">
                                            <b>Returns: </b>    <code>DiceResults[]</code>
            
                                        </div>
                                            <div class="io-description">
                                                <p>List of DiceResults that can be used to generate the dice-results table for a default roll of a d20 with no modifiers</p>
            
                                            </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                            <tr>
                                <td class="col-md-4">
                                    <b> toPercentageDefault</b>
                                </td>
                            </tr>
            
                            <tr>
                                <td class="col-md-4">
            <code>toPercentageDefault(decimal: number)</code>
                                </td>
                            </tr>
            
                            <tr>
                                <td class="col-md-4">
                                        <div class="io-description"><p>toPercentageDefault is different from toPercentage because the numDigitsAfterDot variable gets set automatically,<br>based on the number of decimals needed to display the number.<br>Default number of decimal spaces (if percentage is large enough) is two deicmal spaces </p>
            </div>
                                        <div class="io-description">
                                                <b>Parameters :</b>
                                                <ul class="jsdoc-params">
                                                        <li>
                                                            <div>
                                                                <b>decimal</b>
                                                            </div>
                                                            <div>
                                                                <p>number between 0 and 1</p>
            
                                                            </div>
                                                        </li>
                                                </ul>
                                        </div>
                                        <div class="io-description">
                                            <b>Returns: </b>    <code>[number, number]</code>
            
                                        </div>
                                            <div class="io-description">
                                                <p>0: The decimal number converted into a percentage</p>
            
                                            </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                            <tr>
                                <td class="col-md-4">
                                    <b> toPercentage</b>
                                </td>
                            </tr>
            
                            <tr>
                                <td class="col-md-4">
            <code>toPercentage(decimal: number, numDigitsAfterDot: number)</code>
                                </td>
                            </tr>
            
                            <tr>
                                <td class="col-md-4">
                                        <div class="io-description">
                                                <b>Parameters :</b>
                                                <ul class="jsdoc-params">
                                                        <li>
                                                            <div>
                                                                <b>decimal</b>
                                                            </div>
                                                            <div>
                                                                <p>number between 0 and 1</p>
            
                                                            </div>
                                                        </li>
                                                        <li>
                                                            <div>
                                                                <b>numDigitsAfterDot</b>
                                                            </div>
                                                            <div>
                                                                <p>number of digits after decimal to round first parameter to</p>
            
                                                            </div>
                                                        </li>
                                                </ul>
                                        </div>
                                        <div class="io-description">
                                            <b>Returns: </b>    <code>number</code>
            
                                        </div>
                                            <div class="io-description">
                                                <p>The decimal number converted into a percentage rounded to numDigitsAfterDot decimal points</p>
            
                                            </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                            <tr>
                                <td class="col-md-4">
                                    <b> possibleDiceValues</b>
                                </td>
                            </tr>
            
                            <tr>
                                <td class="col-md-4">
            <code>possibleDiceValues(diceset: <a href="../classes/DiceSet.html" >DiceSetI</a>)</code>
                                </td>
                            </tr>
            
                            <tr>
                                <td class="col-md-4">
                                        <div class="io-description"><p>Covnerts die set into array of array of numbers that represents the<br>possible rolls created from the diceset<br>eg. diceset { d4: 1, d12: 2 } results in:</p>
            <pre><code class="hljs undefined">[[1, 2, 3, 4], [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12], [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12]]</code></pre></div>
                                        <div class="io-description">
                                                <b>Parameters :</b>
                                                <ul class="jsdoc-params">
                                                        <li>
                                                            <div>
                                                                <b>diceset</b>
                                                            </div>
                                                            <div>
                                                                <p>dice set that represents the number of dice being rolled, and the </p>
            
                                                            </div>
                                                        </li>
                                                </ul>
                                        </div>
                                        <div class="io-description">
                                            <b>Returns: </b>    <code>number[][]</code>
            
                                        </div>
                                            <div class="io-description">
                                                <p>converted</p>
            
                                            </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                            <tr>
                                <td class="col-md-4">
                                    <b> diceSetString</b>
                                </td>
                            </tr>
            
                            <tr>
                                <td class="col-md-4">
            <code>diceSetString(diceSet: <a href="../classes/DiceSet.html" >DiceSetI</a>)</code>
                                </td>
                            </tr>
            
                            <tr>
                                <td class="col-md-4">
                                        <div class="io-description">
                                            <b>Returns: </b>    <code>string</code>
            
                                        </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                            <tr>
                                <td class="col-md-4">
                                    <b> printDiceSet</b>
                                </td>
                            </tr>
            
                            <tr>
                                <td class="col-md-4">
            <code>printDiceSet(diceSet: <a href="../classes/DiceSet.html" >DiceSetI</a>)</code>
                                </td>
                            </tr>
            
                            <tr>
                                <td class="col-md-4">
                                        <div class="io-description">
                                            <b>Returns: </b>    <code>void</code>
            
                                        </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
            </section>

    </div>
    <div class="tab-pane fade tab-source-code" id="source">
        <pre><code class="hljs javascript">import { Injectable } from &#x27;@angular/core&#x27;;
import { Advantage, DiceResults, DiceSet, DiceSetI } from &#x27;./diceset&#x27;;

/**
 * This service is used to make calculations related to dice rolls.
 * Most functions require an input of a diceset type which contains information about the number of dice being rolled, the modifiers being applied to the dice roll, and the target of what the dice roll should hit
 * 
 * Main functions: skillCheckCalc, diceCalcMap, diceCalcResults
 */
@Injectable({
  providedIn: &#x27;root&#x27;
})
export class DiceCalculationsService {
  /**
   * Generate max possible roll from diceset
   * @param diceset input of dice being rolled
   * @returns The roll total generated if each die has its highest number
   */
  maxRoll(diceset: DiceSetI): number {
    let dicesum &#x3D; 0;
    for(let i of diceset) {
      dicesum +&#x3D; (i[0] * i[1]);
    }
    dicesum +&#x3D; diceset.modifier;
    return dicesum;
  }

  /**
   * Generate min possible roll from diceset
   * @param diceset input of dice being rolled
   * @returns The roll total generated if each die has its lowest number
   */
  minRoll(diceset: DiceSetI): number {
    let dicesum &#x3D; 0;
    for(let i of diceset) {
      dicesum +&#x3D; (1 * i[1]);
    }
    dicesum +&#x3D; diceset.modifier;
    return dicesum;
  }

  /**
   * This returns the number of possible permutations of the dice rolls
   * there are. This can be used as the denomenator for calc-ing the
   * percentage of successful dice rolls
   * @param diceset diceset that you&#x27;re calcing with
   * @returns The denomenator in calcing the probability
   */
  numPossibleDieRolls(diceset: DiceSetI): number {
    let dierolls &#x3D; 1;
    for(let i of diceset) {
      dierolls *&#x3D; i[0] ** i[1];
    }
    return dierolls;
  }


  /**
   * Converts raw skillCheckCalc value to chance of target being reached when d20 is rolled with advantage
   * @param targetChance Can accept either percentage or fraction calc of chance
   * @returns fraction chance to hit target in skill check with advantage
   */
  skillCheckCalcAdvantage(targetChance: number): number {
    if(targetChance &gt; 1) {
      targetChance /&#x3D; 100;
    }
    return 1 - (1 - targetChance) ** 2;
  }

  /**
   * Converts raw skillCheckCalc value to chance of target being reached when d20 is rolled with disadvantage
   * @param targetChance Can accept either percentage or fraction calc of chance
   * @returns fraction chance to hit target in skill check with disadvantage
   */
  skillCheckCalcDisadvantage(targetChance: number): number {
    if(targetChance &gt; 1) {
      targetChance /&#x3D; 100;
    }
    return targetChance ** 2;
  }

  /**
   * 
   * @param advantage accepts Advantage enum to determine whether to modify the target chance to adjust for advantage or disadvantage
   * @param targetChance Resulting calculation from skillCheckCalc to determine chance of diceset reaching target
   * @returns targetChance but modified to account for either advantage or disadvantage
   */
  skillCheckCalcAdvantageDisadvantage(
    advantage: Advantage, targetChance: number
  ): number {
    switch(advantage) {
      case Advantage.Advantage:
        return this.skillCheckCalcAdvantage(targetChance);
      case Advantage.Disadvantage:
        return this.skillCheckCalcDisadvantage(targetChance);
      default:
        return targetChance;
    }
  }

  /**
   * This function just has a console.log to check for advantage.
   * It&#x27;s a testing function to make sure that advantage is being set properly
   * @param advantage diceset.advantage value
   */
  checkAdvantageValue(advantage: Advantage) {
    switch(advantage) {
      case Advantage.None:
        console.log(&#x27;excecuting checkAdvantageValue -- Advantage.None&#x27;);
        break;
      case Advantage.Advantage:
        console.log(&#x27;excecuting checkAdvantageValue -- Advantage.Advantage&#x27;);
        break;
      case Advantage.Disadvantage:
        console.log(&#x27;excecuting checkAdvantageValue -- Advantage.Disadvantage&#x27;);
        break;
      default:
        console.log(&#x27;excecuting checkAdvantageValue -- default&#x27;);
    }
  }

  /**
   * This function calculates the percent chance of a skill check succeeding
   * 
   * Explanation of Algorithm: O(n^3)
   * 
   * The algorithm will iterate through the dice roll possibilities one die at a time, and add each of the possible die options on the current die to the list of sums.
   * 
   * 1. possibleDiceValues() is used to convert dice set into 2d array
   * 2. two arrays are created, sums1 and sums2.
   * - sums1 is initiated to [0]. This array is used to store the sums generated from the dice already itereated through. This array will stay constant while the new die values are iterated through
   * - sums2 is initiated to []. This array has the new sums from the dice value currently being iterated through pushed to it.
   * 3. Assume [[1, 2], [1, 2, 3], [1, 2, 3]]
   * The algorithm first itereates through the die values of the first die, and adds them to the values of the empty sums1 array. Sums are pushed to sums2.
   * sums1 &#x3D; [0];
   * sums2 &#x3D; [1, 2];
   * 4. Sums2 is then copied to sums1.
   * 5. Then, the next group of die results starts being iterated through, and gets added to values in sums1 array
   * 
   * first loop of sums1:
   * 
   * sums1 &#x3D; [1, 2];
   * 
   * sums2 &#x3D; [1 + 1, 2 + 1];
   * 
   * second loop of sums1:
   * 
   * sums1 &#x3D; [1, 2];
   * 
   * sums2 &#x3D; [1 + 1, 2 + 1, 1 + 2, 2 + 2];
   * 
   * third loop of sums1:
   * 
   * sums2 &#x3D; [1 + 1, 2 + 1, 1 + 2, 2 + 2, 1 + 3, 2 + 3];
   * 
   * After loop of dieFaces:
   * 
   * sums1 &#x3D; [1, 2];
   * 
   * sums2 &#x3D; [1 + 1, 2 + 1, 1 + 2, 2 + 2, 1 + 3, 2 + 3];
   * 
   * Second loop of dieFaces:
   * 
   * sums1 &#x3D; [2, 3, 3, 4, 4, 5]; // Copy of sums2, except I simplified the sums
   * 
   * sums2 &#x3D; [1 + 1, 2 + 1, 1 + 2, 2 + 2, 1 + 3, 2 + 3];
   * 
   * first iteration of sums1:
   * 
   * sums2 &#x3D; [2 + 1, 3 + 1, 3 + 1, 4 + 1, 4 + 1, 5 + 1];
   * 
   * second iteration of sums1:
   * 
   * sums2 &#x3D; [2 + 1, 3 + 1, 3 + 1, 4 + 1, 4 + 1, 5 + 1, 
   *          2 + 2, 3 + 2, 3 + 2, 4 + 2, 4 + 2, 5 + 2];
   * 
   * third iteration of sums1:
   * 
   * sums2 &#x3D; [2 + 1, 3 + 1, 3 + 1, 4 + 1, 4 + 1, 5 + 1, 
   *          2 + 2, 3 + 2, 3 + 2, 4 + 2, 4 + 2, 5 + 2,
   *          2 + 3, 3 + 3, 3 + 3, 4 + 3, 4 + 3, 5 + 3];
   * 
   * Final value of sums1 after loop: [3, 4, 4, 5, 5, 6, 4, 5, 5, 6, 6, 7, 5, 6, 6, 7, 7, 8]
   * 
   * 6. The algorithm filters the array for the sum values over the target
   * 7. Divide number of die rolls over the target over total number of die roll possibilities, and convert it to a percentage
   * @param diceset diceset object that represents the dice being rolled,
   * and represents the target DC for the skillcheck
   * @returns percentage chance of success rounded to two decimal points
   */
  skillCheckCalc(diceset: DiceSetI): number {
    if(this.minRoll(diceset) &gt;&#x3D; diceset.target) {
      // calculates chance of natural 20 (is .95)
      return this.skillCheckCalcModifiers(diceset, .95)
    } else if(this.maxRoll(diceset) &lt;&#x3D; diceset.target) {
      // calculates chance of natural 1 (is .05)
      return this.skillCheckCalcModifiers(diceset, .05)
    }
    let target &#x3D; diceset.target - diceset.modifier;
    let possibleValues &#x3D; this.possibleDiceValues(diceset);
    // This array holds the sums of the already iterated through dice.
    let sums1: number[] &#x3D; [0];
    // This array will get the new dice sums pushed to it
    let sums2: number[] &#x3D; [];
    for(let diceFaces of possibleValues) {
      for(let currentDieValue of diceFaces) {
        for(let currentSum of sums1) {
          sums2.push(currentSum + currentDieValue);
        }
      }
      sums1 &#x3D; sums2.slice(); // create deep copy of array
      sums2 &#x3D; [];
    }
    let numRollsAboveTarget &#x3D; sums1.filter((x) &#x3D;&gt; x &gt;&#x3D; target).length;
    let numPossibleRolls &#x3D; this.numPossibleDieRolls(diceset);
    let fractionAboveTarget &#x3D; numRollsAboveTarget / numPossibleRolls;
    return this.skillCheckCalcModifiers(diceset, fractionAboveTarget);
  }

  /**
   * This function modifies the fraction probability calculated from skill check calc to the number used by the user interface
   * Performs modifications like transforming the fraction into a percentage.
   * This is called before the number is returned in skillcheckcalc
   * @param diceset input diceset from user
   * @param probability the raw number from skillcheckcalc
   * @returns Modified number that is used by the code
   */
  skillCheckCalcModifiers(diceset: DiceSetI, probability: number): number {
    return this.toPercentageDefault(
      this.adjustProbabilityForAttempts(
        this.skillCheckCalcAdvantageDisadvantage(
          diceset.advantage, probability
        ),
        diceset.attempts
      )
    )[0];
  }

  /**
   * This algorithm multiplies the probability of success by the amount of attempts.
   * 
   * This algorithm is used in the end of skillCheckCalc to account for multiple attempts
   * @param likelihoodTarget The probability value of something
   * @param attempts Number of times that the probability chance is performed
   * @returns The chance of the probability succeeding at least once in the multiple attempts
   */
  adjustProbabilityForAttempts(
    likelihoodTarget: number, attempts: number
  ): number {
    console.log(&#x60;adjust probability for attempts ${likelihoodTarget} ${attempts}&#x60;);
    return 1 - (1 - likelihoodTarget) ** attempts;
  }

  /**
   * This algorithm is a variation of skillCheckCalc that generates a full map of results.
   * This variation does not look at the target of the roll
   * @param diceset input dice set
   * @returns Map[roll result : number of rolls with roll result]
   */
  diceCalcMap(diceset: DiceSetI): Map&lt;number, number&gt; {
    let finalSums &#x3D; new Map&lt;number, number&gt;();
    let possibleValues &#x3D; this.possibleDiceValues(diceset);
    let sums1: number[] &#x3D; [0];
    let sums2: number[] &#x3D; [];
    for(let diceFaces of possibleValues) {
      for(let currentDieValue of diceFaces) {
        for(let currentSum of sums1) {
          sums2.push(currentSum + currentDieValue);
        }
      }
      sums1 &#x3D; sums2.slice();
      sums2 &#x3D; [];
    }
    // create map
    for(let i of sums1) {
      let modI &#x3D; i + diceset.modifier;
      finalSums.set(modI, (finalSums.get(modI) ?? 0) + 1);
    }
    return finalSums;
  }

  /**
   * This algorithm is a variation of skillCheckCalc that generates a full map of results.
   * This variation does not look at the target of the roll
   * To account for Advantage/Disadvantage, it adds an additional d20, and adds additional rolls taking the min/max with the additional d20
   * @param diceset input dice set
   * @returns Map[roll result : number of rolls with roll result]
   */
  diceCalcMapAdvantage(diceset: DiceSetI): Map&lt;number, number&gt; {
    let finalSums &#x3D; new Map&lt;number, number&gt;();
    let possibleValues: number[][] &#x3D; this.possibleDiceValues(diceset);
    possibleValues &#x3D; this.diceCalcMapSetupPossibleValues(
      possibleValues, diceset.advantage
    );
    let sums1: number[] &#x3D; [0];
    let sums2: number[] &#x3D; [];
    for(let [dieIndex, diceFaces] of possibleValues.entries()) {
      for(let currentDieValue of diceFaces) {
        for(let currentSum of sums1) {
          if(
            (diceset.advantage &#x3D;&#x3D;&#x3D; Advantage.Advantage ||
            diceset.advantage &#x3D;&#x3D;&#x3D; Advantage.Disadvantage) &amp;&amp;
            dieIndex &#x3D;&#x3D; 1
          ) {
            let nextDiceVal: number | null &#x3D; this.diceCalcMapSetupChooseDice(
              currentSum, currentDieValue, diceset.advantage
            );
            if(nextDiceVal) {
              sums2.push(nextDiceVal);
            }
          } else {
            sums2.push(currentDieValue + currentSum);
          }
        }
      }
      sums1 &#x3D; sums2.slice();
      sums2 &#x3D; [];
    }
    for(let i of sums1) {
      let modI &#x3D; i + diceset.modifier;
      finalSums.set(modI, (finalSums.get(modI) ?? 0) + 1);
    }
    return finalSums;
  }

  /**
   * Takes the value from possibleValues, and modifies the number generated to account for advantage and savage attacker
   * @param possibleValues number[][] type of possible die values created from possibleDiceValues() function
   * @param advantage enum set by the diceset that determines if the dice are rolled with advantage or disadvantage
   * @returns possibleValues with additional dice added to account for advantage roll or savage attacker roll
   */
  diceCalcMapSetupPossibleValues(
    possibleValues: number[][], advantage: Advantage
  ): number[][] {
    switch(advantage) {
      case Advantage.Advantage:
      case Advantage.Disadvantage:
        // Advantage requires a second D20
        possibleValues.push(
          [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20]
        );
        return possibleValues.reverse();
      case Advantage.SavageAttacker:
        return possibleValues.flatMap(
          (dieValue) &#x3D;&gt; [dieValue, dieValue]
        );
      default:
        return possibleValues
    }
  }

  /**
   * Called in the iterator for generating skillCheckCalc and diceCalc
   * @param diceValue1 dice value in sums1
   * @param diceValue2 dice value in sums2
   * @param advantage determines what case dice are rolled with
   * @returns 
   */
  diceCalcMapSetupChooseDice(
    diceValue1: number, diceValue2: number, advantage: Advantage
  ): number | null {
    // if(diceValue1 &#x3D;&#x3D; diceValue2) {
    //   return null;
    // }
    switch(advantage) {
      case Advantage.Advantage:
      case Advantage.SavageAttacker:
        // console.log(&#x60;advantage calced for ${diceValue1}, ${diceValue2}&#x60;)
        return Math.max(diceValue1, diceValue2);
      case Advantage.Disadvantage:
        // console.log(&#x60;disadvantage calced for ${diceValue1}, ${diceValue2}&#x60;)
        return Math.min(diceValue1, diceValue2);
      default:
        console.log(&#x27;dice calc choose advantage dice improperly invoked&#x27;);
        return null;
    }
  }

  /**
   * Calls diceCalcMap to create map from diceset, and uses the map created to convert into DiceResults array
   * DiceResults array is the data type used to make the roll results table
   * @param diceset input dice set, and modifier to dice rolls
   * @returns DiceResults array that holds the number of rolls, and the percentage of those rols to the whole
   */
  diceCalcResults(diceset: DiceSetI): DiceResults[] {
    // let map: Map&lt;number, number&gt; &#x3D; this.diceCalcMap(diceset);
    let map: Map&lt;number, number&gt; &#x3D; this.diceCalcMapAdvantage(diceset);
    let numPossibleRolls &#x3D; this.numPossibleDieRolls(diceset);
    let totalRolls &#x3D; 0;
    map.forEach((numRolls) &#x3D;&gt; totalRolls +&#x3D; numRolls)
    let dieResults: DiceResults[] &#x3D; [];
    let cumulativePercentageTotal &#x3D; totalRolls;
    map.forEach((numRolls, roll) &#x3D;&gt; {
      let numDecimalSpaces &#x3D; this.toPercentageDefault(numRolls / totalRolls)[1] + 1;
      if(this.toPercentageDefault(numRolls / totalRolls)[0] &gt; .01) {
        numDecimalSpaces &#x3D; 2;
      }
      dieResults.push({
        rollResult: roll,
        numResults: numRolls * diceset.attempts,
        percentageResults: this.toPercentage(numRolls / totalRolls, numDecimalSpaces),
        cumPercentageResults: this.toPercentage(cumulativePercentageTotal / totalRolls, 
                                                numDecimalSpaces),
      })
      cumulativePercentageTotal -&#x3D; numRolls;
    })
    return dieResults;
  }

  /**
   * This function is used in the skill-check component to generate the default d20 table when no modifiers nor separate dice rolls have been applied
   * @returns List of DiceResults that can be used to generate the dice-results table for a default roll of a d20 with no modifiers
   */
  defaultD20RollResults(): DiceResults[] {
    let dieResults: DiceResults[] &#x3D; [];
    let cumulativePercentageTotal &#x3D; 20
    for(let i &#x3D; 1; i &lt;&#x3D; 20; i++) {
      dieResults.push({
        rollResult: i,
        numResults: 1,
        percentageResults: 5,
        cumPercentageResults: this.toPercentage(cumulativePercentageTotal / 20, 2)
      })
      cumulativePercentageTotal -&#x3D; 1;
    }
    return dieResults;
  }

  /**
   * toPercentageDefault is different from toPercentage because the numDigitsAfterDot variable gets set automatically,
   * based on the number of decimals needed to display the number.
   * Default number of decimal spaces (if percentage is large enough) is two deicmal spaces 
   * @param decimal number between 0 and 1
   * @returns 0: The decimal number converted into a percentage
   * @returns 1: The number of decimal spaces used in percentage
   */
  toPercentageDefault(decimal: number): [number, number] {
    let numDecimalSpaces &#x3D; 2;
    while(this.toPercentage(decimal, numDecimalSpaces) &#x3D;&#x3D; 0) {
      numDecimalSpaces++;
    }
    return [this.toPercentage(decimal, numDecimalSpaces), numDecimalSpaces];
  }

  /**
   * 
   * @param decimal number between 0 and 1
   * @param numDigitsAfterDot number of digits after decimal to round first parameter to
   * @returns The decimal number converted into a percentage rounded to numDigitsAfterDot decimal points
   */
  toPercentage(decimal: number, numDigitsAfterDot: number): number {
    // Two decimal percentage &#x3D; Math.round(decimal * 10000) / 100;
    // numDigitsAfterDot has two added to it bc percentages are two decimal spaces removed from decimal
    return Math.round(decimal * 10 ** (numDigitsAfterDot + 2)) / 10 ** numDigitsAfterDot;
  }

  /**
   * Covnerts die set into array of array of numbers that represents the
   * possible rolls created from the diceset
   * eg. diceset { d4: 1, d12: 2 } results in:
   * &#x60;&#x60;&#x60;
   * [[1, 2, 3, 4], [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12], [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12]]
   * &#x60;&#x60;&#x60;
   * @param diceset dice set that represents the number of dice being rolled, and the 
   * @returns converted
   */
  possibleDiceValues(diceset: DiceSetI): number[][] {
    let possibleValues: number[][] &#x3D; [];
    for(let i of diceset) {
      // i[1] &#x3D; the number of the sides of the die
      for(let j &#x3D; 0; j &lt; i[1]; j++) {
        possibleValues.push([...Array(i[0] + 1).keys()].slice(1));
      }
    }
    return possibleValues;
  }

  diceSetString(diceSet: DiceSetI): string {
    return &#x60;d4: ${diceSet.d4}\t
      d6: ${diceSet.d6}\t
      d8: ${diceSet.d8}\t
      d10: ${diceSet.d10}\t
      d12: ${diceSet.d12}\t
      d20: ${diceSet.d20}\t
      modifier: ${diceSet.modifier}&#x60;;
  }

  printDiceSet(diceSet: DiceSetI) {
    for(let i of diceSet) {
      console.log(i[0], i[1]);
    }
  }
}
</code></pre>
    </div>
</div>







                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
           </div>
       </div>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>
       <script src="../js/libs/zepto.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/search/search.js"></script>
       <script src="../js/search/lunr.min.js"></script>
       <script src="../js/search/search-lunr.js"></script>

       <script src="../js/menu.js"></script>
       <script src="../js/libs/highlight.pack.js"></script>
       <script src="../js/libs/highlightjs-line-numbers.min.js"></script>
       <script src="../js/search/search_index.js"></script>
       <script>
            document.addEventListener('DOMContentLoaded', function() {
                hljs.initHighlightingOnLoad();
                hljs.initLineNumbersOnLoad();
            });
       </script>

    </body>
</html>
